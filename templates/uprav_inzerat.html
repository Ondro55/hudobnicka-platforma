{% extends 'base.html' %}
{% block title %}Upravi≈• inzer√°t{% endblock %}

{% block content %}
<section class="uprav-inzerat">
  <h2>‚úèÔ∏è Upravi≈• inzer√°t</h2>

  {% with messages = get_flashed_messages(with_categories=true) %}
    {% if messages %}
      <ul class="flash-messages">
        {% for category, message in messages %}
          <li class="flash {{ category }}">{{ message }}</li>
        {% endfor %}
      </ul>
    {% endif %}
  {% endwith %}

  <form action="" method="post" class="inzerat-form">
    <label>Typ inzer√°tu</label>
    <select name="typ" required>
      {% for t in ['Pred√°m', 'K√∫pim', 'Darujem', 'Vymen√≠m', 'Hƒæad√°m'] %}
        <option value="{{ t }}" {% if inzerat.typ == t %}selected{% endif %}>{{ t }}</option>
      {% endfor %}
    </select>

    <label>Kateg√≥ria</label>
    <input type="text" name="kategoria" value="{{ inzerat.kategoria }}" required>

    <label for="mesto">Mesto</label>
    <select id="mesto" name="mesto_id" required>
      {% for mesto in mesta %}
        <option value="{{ mesto.id }}" {% if mesto.id == inzerat.mesto_id %}selected{% endif %}>{{ mesto.nazov }}</option>
      {% endfor %}
    </select>

    <label>Doprava</label>
    <select name="doprava">
      {% for d in ['Osobne', 'Po≈°tou', 'Kuri√©r'] %}
        <option value="{{ d }}" {% if inzerat.doprava == d %}selected{% endif %}>{{ d }}</option>
      {% endfor %}
    </select>

    <label>Cena (‚Ç¨)</label>
    <input type="number" step="0.01" name="cena" value="{{ inzerat.cena }}">

    <label>Popis</label>
    <textarea name="popis" rows="5">{{ inzerat.popis }}</textarea>

    <button type="submit">üíæ Ulo≈æi≈• zmeny</button>
  </form>
</section>
{% endblock %}
