<!-- modals/registracia.html -->
<div id="user-form-panel"
     class="modal-root form-panel"
     aria-hidden="true"
     role="dialog"
     aria-modal="true"
     aria-labelledby="register-title">
  <div class="modal-card">
    <button class="modal-close" id="close-user-form" data-modal-close aria-label="Zavrieť">×</button>

    <h2 id="register-title">Registrácia hudobníka</h2>

    <div id="flash-box" aria-live="polite">
      {% with messages = get_flashed_messages() %}
        {% if messages %}
          <div class="flash-messages" style="background-color:#f0fff0; padding:10px; border-left:4px solid green;">
            {% for message in messages %}
              <p style="margin:0; font-weight:bold; color: green;">{{ message }}</p>
            {% endfor %}
          </div>
        {% endif %}
      {% endwith %}
    </div>

    <form method="POST" action="{{ url_for('uzivatel.registracia') }}">
      <label for="prezyvka">Prezývka:</label>
      <input type="text" id="prezyvka" name="prezyvka" required value="{{ request.form.get('prezyvka', '') }}" autofocus>

      <label for="meno">Meno:</label>
      <input type="text" id="meno" name="meno" value="{{ request.form.get('meno', '') }}">

      <label for="priezvisko">Priezvisko:</label>
      <input type="text" id="priezvisko" name="priezvisko" value="{{ request.form.get('priezvisko', '') }}">

      <label for="email">Email:</label>
      <input type="email" id="email" name="email" autocomplete="email" required value="{{ request.form.get('email', '') }}">

      <label for="heslo">Heslo:</label>
      <input type="password" id="heslo" name="heslo" autocomplete="new-password" minlength="8" required title="Heslo musí mať aspoň 8 znakov">

      <small style="color: gray;">Minimálne 8 znakov</small>

      <label for="heslo2">Zopakuj heslo:</label>
      <input type="password" id="heslo2" name="heslo2" required>

      <label for="instrument">Hudobný nástroj:</label>
      <select id="instrument" name="instrument" required>
        <option value="">-- Vyber --</option>
        <option value="klavesy"  {% if request.form.get('instrument') == 'klavesy' %}selected{% endif %}>Klávesy</option>
        <option value="gitara"   {% if request.form.get('instrument') == 'gitara' %}selected{% endif %}>Gitara</option>
        <option value="bicie"    {% if request.form.get('instrument') == 'bicie' %}selected{% endif %}>Bicie</option>
        <option value="dychove"  {% if request.form.get('instrument') == 'dychove' %}selected{% endif %}>Dychové nástroje</option>
        <option value="slacikove"{% if request.form.get('instrument') == 'slacikove' %}selected{% endif %}>Sláčikové nástroje</option>
        <option value="ine"      {% if request.form.get('instrument') == 'ine' %}selected{% endif %}>Iné</option>
      </select>

      <div id="instrument-ine" style="{% if request.form.get('instrument') == 'ine' %}display:block;{% else %}display:none;{% endif %}">
        <label for="doplnkovy_nastroj">Doplň hudobný nástroj:</label>
        <input type="text" id="doplnkovy_nastroj" name="doplnkovy_nastroj" value="{{ request.form.get('doplnkovy_nastroj', '') }}">
      </div>

      <label for="obec">Obec/pôsobisko:</label>
      <input type="text" id="obec" name="obec" value="{{ request.form.get('obec', '') }}">

      <button type="submit" class="btn">Registrovať</button>
    </form>
  </div>
</div>
