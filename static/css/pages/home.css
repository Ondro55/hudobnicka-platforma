/* ===== HOME: vnútro v MAIN (1200px shell + 3 stĺpce) ===== */
:root{
  --shell-max: 1200px;   /* šírka stredu v main */
  --gap: 20px;           /* medzera medzi stĺpcami vnútri shellu */
  --col-side: 290px;
  --col-center: calc(var(--shell-max) - (2*var(--col-side)) - (2*var(--gap))); /* ≈600px */
  --sticky-gap: 8px;
  --elev-2: 0 6px 18px rgba(0,0,0,.10);
  --elev-hover: 0 10px 26px rgba(0,0,0,.12);
  --page-col-gap: clamp(12px, 2vw, 24px);
  --sb-w: 240px;  
}

/* 1200px stred centrovaný v MAIN (sidebar rieši sidebar.css) */
.home-shell{
  max-width: var(--shell-max);
  margin-inline: auto;
}


/* 3 stĺpce: ľavý (fix), stred (elastic), pravý (fix) */
.home-grid{
  display: grid;
  grid-template-columns: var(--col-side) 1fr var(--col-side);  /* ← toto je pointa */
  gap: var(--gap);
  align-items: start;
  margin-top: 32px;
  max-width: var(--shell-max);
  margin-inline: auto;
  box-sizing: border-box;
}
/* dovoľ vnútorným blokom sa zmenšiť */
.home-grid > *{ min-width: 0; }




/* ======= CELÁ FILTRAČNÁ LIŠTA CEZ 3 STĹPCE ======= */
/* bar: statický (nie sticky) + menší vizuál */
.home-top-filter{
  position: static;            /* bolo: sticky */
  background: #fff;
  border: 1px solid #e9e9e9;
  padding: 6px 10px;           /* menšie odsadenie */
  border-radius: 8px;
  box-shadow: 0 2px 8px rgba(0,0,0,.04);
}

/* grid v bare: nech je vzdušnejší a kompaktnejší */
.filter-grid{
  display: grid;
  grid-template-columns: 1fr auto 1fr;  
  align-items: center;
  column-gap: 12px;
  
}

.filter-left  { justify-self: start;  display:flex; gap:6px; flex-wrap:wrap; }
.filter-center{ justify-self: center; display:flex; gap:8px; flex-wrap:wrap; }
.filter-right { justify-self: end;   display:flex; gap:6px; flex-wrap:wrap; }

/* chipy: menšie, jemnejšie farby */
.chip{
  appearance: none;
  border: 1px solid #e2e2e2;
  background: #fff;
  padding: 4px 10px;
  border-radius: 999px;
  font-weight: 600;
  font-size: .65rem;           /* tvoje želané */
  line-height: 1.2;
  cursor: pointer;
  transition: border-color .15s ease, color .15s ease, background .15s ease;
}
.chip:hover{ border-color:#b9c7ee; color:#2a56c6; background:#f7f9ff; }
.chip.is-active{ background:#eaf1ff; color:#2a56c6; border-color:#b9c7ee; }
.chip.sm{ padding: 3px 8px; font-size: .65rem; }

/* skupiny – nech sa pekne zalamujú a nežiadajú veľa miesta */
.filter-left, .filter-center, .filter-right{
  display:flex; gap:6px; flex-wrap:wrap; align-items:center;
}

/* kompaktný select ako „chip“ */
.chip-select{
  display:inline-flex; gap:6px; align-items:center;
  border:1px solid #e2e2e2; border-radius:999px; padding:3px 8px; background:#fff;
  font-size:.65rem; font-weight:600; color:#333;
}
.chip-select span{ opacity:.7; }
.chip-select select{
  border:none; background:transparent; outline:none;
  font-size:.65rem; font-weight:600; padding:0; margin:0;
  appearance:none; /* natívny šíp skryť – necháš štýl čistý */
}

/* mobil – všetko pod seba, stále kompaktné */
@media (max-width: 1199px){
  .filter-grid{ grid-template-columns: 1fr; }
  .filter-left, .filter-center, .filter-right{ justify-content:center; }
}

/* KARTY (spoločné) */
.feed-card{
  border-radius:12px; overflow:hidden;
  box-shadow: var(--elev-2);
  transition: box-shadow .18s ease, transform .18s ease;
}
.feed-card:hover{ box-shadow: var(--elev-hover); transform: translateY(-1px); }
.feed-card + .feed-card{ margin-top: 16px; }
.feed-card .cover{
  width:100%; display:block; background:#f7f7f7; object-fit:contain; cursor:zoom-in;
}
.feed-card .copy{ padding:12px 14px;}
.feed-card .title{ margin:0 0 6px; font-size:1.05rem; font-weight:800; }
.feed-card .meta{ color:#666; font-size:.92rem; }
.feed-card .desc{ margin:.35rem 0 0; white-space:pre-wrap; }

/* výšky obrázkov podľa stĺpca */
.home-center .feed-card .cover{ height: 360px; }
.home-left  .feed-card .cover,
.home-right .feed-card .cover{ height: 200px; }

/* Responzívne – pod 1200px stĺpce pod seba */
@media (max-width: 1199px){
  .home-shell{ max-width: 100%; }
  .home-grid{ grid-template-columns: 1fr; }
  .home-center .feed-card .cover{ height: 320px; }
}
@media (max-width: 640px){
  .home-center .feed-card .cover{ height: 260px; }
}

/* ===== PAGE-GRID pre HOME: 1fr | 1200px | 1fr ===== */
:root{
  --shell-max: 1200px;                      /* máš už vyššie – nechávam pre istotu */
  --page-col-gap: clamp(12px, 2vw, 24px);   /* medzera medzi 3 stĺpcami */
  --page-gutter: 16px;
}

.page-grid{
  display: grid;
  grid-template-columns: 1fr minmax(0, var(--shell-max)) 1fr;
  column-gap: var(--page-col-gap);
  align-items: start;
  padding-inline: var(--page-gutter);
  padding: 8px;
}

/* Sidebar vľavo zarovnaj k stredu (doprava) a nech lepí pod header */
.page-left{
  display: grid;
  justify-items: start;
  top: calc(var(--header-h, 84px) + var(--sticky-gap));
}
.page-left .button-sidebar{
  position: sticky;
  top: calc(var(--header-h, 84px) + var(--sticky-gap));
  align-self: start;
  z-index: 2;
}
.home-right{
  position: sticky;
  top: calc(var(--header-h, 84px) + var(--sticky-gap));
  align-self: start;
  z-index: 2;
}
/* Stredný stĺpec musí vedieť zmenšiť sa */
.page-center{ min-width: 0; }

/* Tablet a menej: sidebar hore, stred ide na 100% šírky */
@media (max-width: 1200px){
  .page-grid{
    grid-template-columns: 1fr;
    row-gap: 12px;
    padding-inline: var(--page-gutter);
  }
  .page-left .button-sidebar{
    position: static;
    top: auto;
    width: 100%;
  }
  .home-shell{ max-width: 100%; }
}

@media (min-width: 1201px){
  .page-left .button-sidebar{
    position: fixed;
    top: calc(var(--header-h, 84px) + 8px);
    left: var(--sidebar-left, 12px);     /* ← sem budeme sypať hodnotu z JS */
    width: var(--sb-w, 240px);
    z-index: 5;
  }
}

/* --- len mobil/tablet na výšku --- */
@media (max-width: 980px) {

  /* skryť desktopový strip/filtre, ak ich hore nechceš zdvojovať */
  .hlavicka-strip-row{ display:none; }

  /* Tabs */
  .m-tabs{
    display:flex; gap:8px; padding:8px;
    position:sticky; top: calc(var(--header-top-h,84px)); z-index: 5;
    background: var(--pozadie);
    border-bottom: 1px solid rgba(0,0,0,.08);
  }
  .m-tab{
    flex:1 1 0; text-align:center;
    padding:8px 10px; border-radius:999px; border:1px solid rgba(0,0,0,.15);
    background:#fff; font-weight:800;
  }
  .m-tab.is-active{ background:#eae2d7; border-color:#cdb89e; }

  /* Panely */
  .m-panels{ padding:10px; }
  .m-panel{ display:none; }
  .m-panel.is-active{ display:block; }

  /* Filtre vo vnútri panelov – kompaktné */
  .m-filter{
    background:#fff; border:1px solid #e9e9e9; border-radius:10px;
    padding:6px; margin-bottom:10px;
  }

  /* Feed – karty pod sebou */
  .m-feed .feed-card + .feed-card{ margin-top: 12px; }

  /* Hlavný layout – jeden stĺpec */
  .home-grid{ grid-template-columns: 1fr; gap: 12px; }
  .home-left, .home-right{ display:none; }
  .home-center .feed-card .cover{ height: 260px; }
}
/* TEMP: vypnúť mobilné taby/panely, kým nie je backend */
.m-tabs, .m-panels { display: none !important; }
